"use strict";(self.webpackChunkreact_project_3=self.webpackChunkreact_project_3||[]).push([[225],{1100:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(2791),a=r(7689),o=r(1087),s="SuccessPaymentBlock_root__DUXxU";var c=r.p+"static/media/cart_happy_face_emoji_emotion_smile_icon.26154ae7e18e97d5885985982ac8ea1a.svg";function i(e,t){return Math.floor(Math.random()*(t-e)+e)}var u=function(e,t){return"abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())]+i(e,t).toString()+i(e,t).toString()+i(e,t).toString()},l=r(1210),d=r(9434),m=r(6707),f=r(9085),h=r(2409),g=r(4371),v=r(184),j=function(){var e=u(1,100),t=(0,d.I0)(),r=(0,d.v9)(f.K).totalPrice,i=(0,a.TH)().pathname,j=(0,g.a)().isAuth,S=(0,a.s0)(),p=(0,n.useRef)("true"===localStorage.getItem("didMount")),x=(0,n.useRef)(Math.round(r/100));(0,n.useEffect)((function(){if("/success_payment"===i)if(p.current)localStorage.removeItem("didMount"),S("/");else{if(t((0,m.H5)()),j){var e=JSON.parse(localStorage.getItem("currentUser"));e.bonus+=x.current,e.cart=[],localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.removeItem("bonus");var r=e.email,n=JSON.parse(localStorage.getItem("users")).map((function(n){return n.email===r&&(n.bonus=e.bonus,t((0,h.v_)(e.bonus)),n.cart=[]),n}));localStorage.setItem("users",JSON.stringify(n))}else localStorage.removeItem("cart");p.current=!0,localStorage.setItem("didMount","true")}}),[]);return(0,v.jsxs)("h2",{className:s,children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:c,alt:"smile_face"})}),(0,v.jsx)("div",{children:"\u0423\u0440\u0430! \u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"}),(0,v.jsxs)("div",{children:["\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430 ",(0,v.jsxs)("span",{children:["#",e]})]}),j&&(0,v.jsxs)("div",{children:["\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0431\u043e\u043d\u0443\u0441\u043e\u0432 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437: ",(0,v.jsx)("span",{children:x.current})]}),(0,v.jsx)("div",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0436\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c!"}),(0,v.jsx)("div",{children:(0,v.jsx)("span",{children:"\u041f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u0430\u043f\u043f\u0435\u0442\u0438\u0442\u0430!"})}),(0,v.jsx)(o.rU,{to:"/",children:(0,v.jsx)(l.Z,{onRemoveDidMount:function(){localStorage.removeItem("didMount")}})})]})},S=function(){return(0,v.jsx)(j,{})}}}]);
//# sourceMappingURL=SuccessPayment.eb38048e.chunk.js.map